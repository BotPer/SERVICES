<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Tableau de Bord de l'Utilisateur</title>
</head>
<body>
    <header>
        <h1>Tableau de Bord</h1>
        <nav>
            <ul>
                <li><a href="index.html">Retour à l'Accueil</a></li>
                <li><a href="#" id="logout">Déconnexion</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section id="user-info">
            <h2>Bienvenue, <span id="user-name"></span> !</h2>
            <p>Vous êtes connecté en tant que : <strong><span id="user-fullname"></span></strong></p>
        </section>
        <section id="action-section">
            <h2>Actions</h2>
            <button id="go-to-page">Accéder à une autre page</button>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Plateforme de Services LAN</p>
    </footer>

    <script>
        // Récupérer les informations de l'utilisateur depuis le localStorage
        const firstName = localStorage.getItem('userFirstName');
        const lastName = localStorage.getItem('userLastName');
    
        if (firstName && lastName) {
            // Afficher les informations sur le tableau de bord
            document.getElementById('user-fullname').textContent = `${firstName} ${lastName}`;
            document.getElementById('user-name').textContent = firstName;
        } else {
            // Si aucune information n'est disponible, rediriger vers la page de connexion
            alert("Aucune information utilisateur disponible. Veuillez vous reconnecter.");
            window.location.href = "index.html";
        }
    
        // Déconnexion
        document.getElementById('logout').addEventListener('click', function(event) {
            event.preventDefault();
            // Effacer les informations de l'utilisateur du localStorage
            localStorage.removeItem('userFirstName');
            localStorage.removeItem('userLastName');
    
            alert("Déconnexion réussie !");
            window.location.href = "index.html";
        });
    
        // Redirection vers une autre page lors du clic sur le bouton
        document.getElementById('go-to-page').addEventListener('click', function() {
            window.location.href = "cg.html"; // Remplacez par l'URL de la page souhaitée
        });
    </script>
    
</body>
</html>
